<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
        <title>OpacitySlider Widget Tests</title>

        <!-- META TAGS -->
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<meta http-equiv="X-UA-Compatible" content="IE=7" />
		
		<!-- CSS -->
		<link rel='stylesheet' type='text/css' href='http://serverapi.arcgisonline.com/jsapi/arcgis/2.4/js/dojo/dijit/themes/claro/claro.css'>
    	<link rel='stylesheet' type='text/css' href='../../themes/standard/agrc.css' />
		<link rel="stylesheet" type="text/css" href="jasmine-1.0.1/jasmine.css">
		
		<!-- JAVASCRIPT -->
		<script type='text/javascript'>
			djConfig={
				isDebug: true,
				debugAtAllCosts: true,
				parseOnLoad: true,
				baseUrl: './',
				modulePaths: {
					"agrc": "../../"
				}
			};
		</script>
		<script type='text/javascript' src='http://serverapi.arcgisonline.com/jsapi/arcgis/?v=2.4'></script>
		<script type="text/javascript" src="jasmine-1.0.1/jasmine.js"></script>
        <script type="text/javascript" src="jasmine-1.0.1/jasmine-html.js"></script>
		<script type='text/javascript' src='spec/SpecOpacitySlider.js'></script>
		<script type='text/javascript'>
			dojo.require('agrc.widgets.map.BaseMap');
			dojo.require('agrc.widgets.layer.OpacitySlider');
			
			function init(){
				console.log(this.declaredClass, arguments.callee, arguments);
				
				// init map
				var bMap = new agrc.widgets.map.BaseMap('map-div');
				
				// add layer
				var l = new esri.layers.ArcGISDynamicMapServiceLayer('//mapserv.utah.gov/ArcGIS/rest/services/Broadband/ProviderCoverage/MapServer', {opacity: 0.5});
				bMap.addLayer(l);
				
				// init widget
				new agrc.widgets.layer.OpacitySlider({mapServiceLayer: l}, 'test-div');
				
				// run tests
				jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
	            jasmine.getEnv().execute();
			}
			
			dojo.ready(init);
		</script>
	</head>
	<body class='claro' style='overflow: auto;'>
		<div id='map-div' style='width: 200px; height: 300px;'></div>
		<div style='width: 250px; border: 1px solid gray;'>
			<div id='test-div'></div>
		</div>
	</body>
</html>
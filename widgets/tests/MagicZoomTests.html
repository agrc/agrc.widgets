<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>Magic Zoom Tests</title>

	<!-- META TAGS -->
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

	<!-- CSS -->		
	<link rel='stylesheet' href='http://js.arcgis.com/3.6/js/dojo/dijit/themes/claro/claro.css'>
	<link rel="stylesheet" type="text/css" href="http://js.arcgis.com/3.6/js/esri/css/esri.css" />
	<link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
	<style type='text/css'>
	@import '../../resources/locate/MagicZoom.css';
	#map-div {
		height: 400px;
		width: 500px;
		border: solid 1px gray;
		position: relative;
	}
	#search-div2 {
		position: relative;
		z-index: 27;
	}
	#search-div3 {
		position: relative;
		z-index: 26;
	}
	</style>

	<!-- JAVASCRIPT -->
	<script type='text/javascript' src='http://js.arcgis.com/3.6'></script>
	<script type="text/javascript">
	var projectUrl = location.pathname.replace(/\/[^\/]+$/, "") + '/';
	var widgetUnderTest;

	require({
		packages: [{
			name: 'agrc',
			location: projectUrl + '../../'
		}]
	}, [
	'agrc/widgets/locate/MagicZoom',
	'agrc/widgets/map/BaseMap',

	'dojo/domReady!'
	],
	function(Module, mapDependency) {
		map = new mapDependency('map-div');

		widgetUnderTest = new Module({
			mapServiceURL: 'http://mapserv.utah.gov/ArcGIS/rest/services/UtahBaseMap-Vector/MapServer',
			searchLayerIndex: 1,
			searchField: 'NAME',
			map: map,
			maxResultsToDisplay: 10,
			placeHolder: 'placeholder txt'
		}, 'search-div');

		widgetUnderTest.startup();

		var w2 = new Module({
			mapServiceURL: 'http://mapserv.utah.gov/ArcGIS/rest/services/UtahBaseMap-Vector/MapServer',
			searchLayerIndex: 1,
			searchField: 'NAME',
			map: map,
			maxResultsToDisplay: 10
		}, 'search-div2');
		w2.startup();

		var w3 = new Module({
			mapServiceURL: 'http://mapserv.utah.gov/arcgis/rest/services/BaseMaps/Vector/MapServer',
			searchLayerIndex: 0,
			searchField: 'FULLNAME',
			map: map,
			maxResultsToDisplay: 10,
			contextField: 'ZIPLEFT'
		}, 'search-div3');
		w3.startup();
	});
</script>
</head>
<body class='claro'>
	<div id='map-div'>
		<div id='search-div'></div>
	</div>
	layout tests
	<div id="search-div2"></div>
	<br><br>
	contextField
	<div id="search-div3"></div>
</body>
</html>
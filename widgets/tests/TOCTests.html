<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script type="text/javascript">
        djConfig = {
            parseOnLoad: true,
            isDebug: false,
            usePlainJson: true,
            enableMozDomContentLoaded: true,
            baseUrl: './',
            dojoBlankHtmlUrl: './blank.htm',
            modulePaths: { "agrc": "../../" }
        };
    </script>
    <script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=2.2"></script>
    <title>AGRC TOC widgetTest</title>
    <style type="text/css">
        @import "../../Themes/Standard/agrc.css";
        @import "http://serverapi.arcgisonline.com/jsapi/arcgis/2.2/js/dojo/dijit/themes/soria/soria.css";
    </style>
</head>
<body class="soria">
	<h3>agrc.widgets.map.Toc</h3>
    <p style="text-align: left;">
 Creates a Table of contents tree that duplicates the table of contents in the mxd.  A checkbox is provided for each layer and group layer
that is used to turn on and off each layer separately or all sub layers inside a group layer.
    </p>
    <div id="test" style="border: solid 1px Black; height: 300px; width: 400px; position:relative; float:left;">
    </div>
   <!-- <div id="tocContainer" style="height: 300px; width: 200px; position:absolute; top:100px; left:430px;">-->
    <div id="Toc" style="float:right">
    </div>

</body>
</html>
<script type="text/javascript">
    dojo.require("dojo.parser");
    dojo.require("agrc.widgets.map.Toc");

    dojo.addOnLoad(function () {
       var map = new esri.Map("test"); //, { slider: false, nav: false }
       var base = new esri.layers.ArcGISTiledMapServiceLayer("//mapserv.utah.gov/ArcGIS/rest/services/UtahBaseMap-Terrain/MapServer", { id: "base", visible: true });
       var vector = new esri.layers.ArcGISDynamicMapServiceLayer("//mapserv.utah.gov/ArcGIS/rest/services/UREZ/MapServer", { id: "vector", visible: true });
        map.addLayer(base);
       map.addLayer(vector);

        console.log('creating widget');
        var toc = new agrc.widgets.map.Toc({ mapServiceLayer: vector }, dojo.byId("Toc"));
        console.log('widget created');
    });
</script>
